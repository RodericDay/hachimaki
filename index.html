<meta charset="utf-8">

<style>
canvas {
    background-color: #eee;
}
</style>

<h1>Hachimaki</h1>

<form><select id="select"></select></form>

<canvas id="canvas"></canvas>

<script id="loader"></script>
<pre id="shower">load a demo</pre>

<script src="build/hachimaki.js"></script>

<script>
async function load() {
    let response = await fetch('demos.txt');
    let text = await response.text();
    text.trim().split('\n').forEach(o=>select.options.add(new Option(o, o)));
    select.value = location.hash.slice(1);
    select.onchange = (e) => {
        location.hash = select.value;
        location.reload();
    }
    if(select.value) {
        loader.src = select.value;
        let response = await fetch(select.value.replace(/js/g, 'ts'));
        let text = await response.text();
        shower.innerHTML = text;
    }
}
load();
</script>
